{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nconst initialCartState = {\n  items: [\n  // sample initial item so UI shows something; can be empty\n  {\n    id: 'p1',\n    title: 'Test Item',\n    quantity: 3,\n    total: 18,\n    price: 6\n  }]\n};\nconst cartSlice = createSlice({\n  name: 'cart',\n  initialState: initialCartState,\n  reducers: {\n    addItem(state, action) {\n      const newItem = action.payload; // { id, title, price }\n      const existingItem = state.items.find(it => it.id === newItem.id);\n      if (existingItem) {\n        existingItem.quantity++;\n        existingItem.total = existingItem.total + newItem.price;\n      } else {\n        state.items.push({\n          id: newItem.id,\n          title: newItem.title,\n          price: newItem.price,\n          quantity: 1,\n          total: newItem.price\n        });\n      }\n    },\n    removeItem(state, action) {\n      const id = action.payload; // id string\n      const existingItemIndex = state.items.findIndex(it => it.id === id);\n      if (existingItemIndex === -1) return;\n      const existingItem = state.items[existingItemIndex];\n      if (existingItem.quantity === 1) {\n        state.items.splice(existingItemIndex, 1);\n      } else {\n        existingItem.quantity--;\n        existingItem.total = existingItem.total - existingItem.price;\n      }\n    }\n  }\n});\nexport const cartActions = cartSlice.actions;\nexport default cartSlice.reducer;","map":{"version":3,"names":["createSlice","initialCartState","items","id","title","quantity","total","price","cartSlice","name","initialState","reducers","addItem","state","action","newItem","payload","existingItem","find","it","push","removeItem","existingItemIndex","findIndex","splice","cartActions","actions","reducer"],"sources":["/mnt/c/Users/joaom/Documents/Advanced Redux/src/store/cart-slice.js"],"sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\n\nconst initialCartState = {\n  items: [\n    // sample initial item so UI shows something; can be empty\n    { id: 'p1', title: 'Test Item', quantity: 3, total: 18, price: 6 },\n  ],\n};\n\nconst cartSlice = createSlice({\n  name: 'cart',\n  initialState: initialCartState,\n  reducers: {\n    addItem(state, action) {\n      const newItem = action.payload; // { id, title, price }\n      const existingItem = state.items.find((it) => it.id === newItem.id);\n      if (existingItem) {\n        existingItem.quantity++;\n        existingItem.total = existingItem.total + newItem.price;\n      } else {\n        state.items.push({\n          id: newItem.id,\n          title: newItem.title,\n          price: newItem.price,\n          quantity: 1,\n          total: newItem.price,\n        });\n      }\n    },\n    removeItem(state, action) {\n      const id = action.payload; // id string\n      const existingItemIndex = state.items.findIndex((it) => it.id === id);\n      if (existingItemIndex === -1) return;\n      const existingItem = state.items[existingItemIndex];\n      if (existingItem.quantity === 1) {\n        state.items.splice(existingItemIndex, 1);\n      } else {\n        existingItem.quantity--;\n        existingItem.total = existingItem.total - existingItem.price;\n      }\n    },\n  },\n});\n\nexport const cartActions = cartSlice.actions;\nexport default cartSlice.reducer;\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAE9C,MAAMC,gBAAgB,GAAG;EACvBC,KAAK,EAAE;EACL;EACA;IAAEC,EAAE,EAAE,IAAI;IAAEC,KAAK,EAAE,WAAW;IAAEC,QAAQ,EAAE,CAAC;IAAEC,KAAK,EAAE,EAAE;IAAEC,KAAK,EAAE;EAAE,CAAC;AAEtE,CAAC;AAED,MAAMC,SAAS,GAAGR,WAAW,CAAC;EAC5BS,IAAI,EAAE,MAAM;EACZC,YAAY,EAAET,gBAAgB;EAC9BU,QAAQ,EAAE;IACRC,OAAOA,CAACC,KAAK,EAAEC,MAAM,EAAE;MACrB,MAAMC,OAAO,GAAGD,MAAM,CAACE,OAAO,CAAC,CAAC;MAChC,MAAMC,YAAY,GAAGJ,KAAK,CAACX,KAAK,CAACgB,IAAI,CAAEC,EAAE,IAAKA,EAAE,CAAChB,EAAE,KAAKY,OAAO,CAACZ,EAAE,CAAC;MACnE,IAAIc,YAAY,EAAE;QAChBA,YAAY,CAACZ,QAAQ,EAAE;QACvBY,YAAY,CAACX,KAAK,GAAGW,YAAY,CAACX,KAAK,GAAGS,OAAO,CAACR,KAAK;MACzD,CAAC,MAAM;QACLM,KAAK,CAACX,KAAK,CAACkB,IAAI,CAAC;UACfjB,EAAE,EAAEY,OAAO,CAACZ,EAAE;UACdC,KAAK,EAAEW,OAAO,CAACX,KAAK;UACpBG,KAAK,EAAEQ,OAAO,CAACR,KAAK;UACpBF,QAAQ,EAAE,CAAC;UACXC,KAAK,EAAES,OAAO,CAACR;QACjB,CAAC,CAAC;MACJ;IACF,CAAC;IACDc,UAAUA,CAACR,KAAK,EAAEC,MAAM,EAAE;MACxB,MAAMX,EAAE,GAAGW,MAAM,CAACE,OAAO,CAAC,CAAC;MAC3B,MAAMM,iBAAiB,GAAGT,KAAK,CAACX,KAAK,CAACqB,SAAS,CAAEJ,EAAE,IAAKA,EAAE,CAAChB,EAAE,KAAKA,EAAE,CAAC;MACrE,IAAImB,iBAAiB,KAAK,CAAC,CAAC,EAAE;MAC9B,MAAML,YAAY,GAAGJ,KAAK,CAACX,KAAK,CAACoB,iBAAiB,CAAC;MACnD,IAAIL,YAAY,CAACZ,QAAQ,KAAK,CAAC,EAAE;QAC/BQ,KAAK,CAACX,KAAK,CAACsB,MAAM,CAACF,iBAAiB,EAAE,CAAC,CAAC;MAC1C,CAAC,MAAM;QACLL,YAAY,CAACZ,QAAQ,EAAE;QACvBY,YAAY,CAACX,KAAK,GAAGW,YAAY,CAACX,KAAK,GAAGW,YAAY,CAACV,KAAK;MAC9D;IACF;EACF;AACF,CAAC,CAAC;AAEF,OAAO,MAAMkB,WAAW,GAAGjB,SAAS,CAACkB,OAAO;AAC5C,eAAelB,SAAS,CAACmB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}